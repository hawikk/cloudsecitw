<!DOCTYPE html>
<html>
<head>
    <title>Security Report</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        h1, h2 { color: #336699; }
        .summary { background: #f5f5f5; padding: 10px; margin: 10px 0; }
        .issue { border-left: 3px solid #999; padding-left: 10px; margin: 15px 0; }
        .high { border-left-color: #cc0000; }
        .medium { border-left-color: #ff9900; }
        .low { border-left-color: #009900; }
        button { background: #336699; color: white; border: none; padding: 8px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Security Analysis Report</h1>
    <a href="/"><button>Upload Another File</button></a>
    
    <h2>Summary</h2>
    <div class="summary">{{ result.summary }}</div>
    
    <h2>Issues</h2>
    {% if result.issues %}
        {% for issue in result.issues %}
        <div class="issue {{ issue.severity|lower }}">
            <h3>{{ issue.title }} <span style="color: {% if issue.severity == 'HIGH' %}#cc0000{% elif issue.severity == 'MEDIUM' %}#ff9900{% else %}#009900{% endif %};">({{ issue.severity }})</span></h3>
            <p><strong>Description:</strong> {{ issue.description }}</p>
            <p><strong>Recommendation:</strong> {{ issue.recommendation }}</p>
        </div>
        {% endfor %}
    {% else %}
        <p>No issues found.</p>
    {% endif %}
    
    <h2>Recommendations</h2>
    {% if result.recommendations %}
        <ul>
            {% for rec in result.recommendations %}
            <li>{{ rec }}</li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No specific recommendations.</p>
    {% endif %}
</body>
</html>